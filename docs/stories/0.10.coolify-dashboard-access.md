# Story 0.10: Coolify Dashboard Access & Configuration

**Epic:** 0 - Infrastructure Prerequisites
**Story Number:** 0.10
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 1 (Epic 0 - Infrastructure Setup)

---

## Story

**As a** DevOps engineer,
**I want** full access to Coolify dashboard (port 8000) and deployment workflows,
**so that** I can manage containerized services and deployments.

---

## Acceptance Criteria

1. Coolify dashboard accessible: `http://89.117.60.144:8000` loads successfully
2. Authentication verified: admin credentials work for login
3. All services visible: 13+ services shown in dashboard
4. Service logs accessible: view logs for each running service
5. Service restart tested: restart single service without affecting others
6. Resource monitoring: view CPU, RAM, disk usage per service
7. Deployment workflow documented: how to deploy new service versions
8. Environment variables management: verify secure storage and injection
9. Backup/restore tested: create service backup, test restore process
10. Team access configured: add additional team members with appropriate roles

---

## Tasks / Subtasks

- [ ] **Task 1: Access Coolify Dashboard** (AC: 1, 2)
  - [ ] Navigate to: `http://89.117.60.144:8000`
  - [ ] Login with admin credentials (obtain from infrastructure team)
  - [ ] Verify dashboard loads
  - [ ] Document credentials in secure location

- [ ] **Task 2: Verify All Services Listed** (AC: 3)
  - [ ] Navigate to Services/Applications page
  - [ ] Count total services (expected: 13+)
  - [ ] Verify each service shows:
    - Container name
    - Status (running/stopped)
    - Resource usage
    - Port mappings
  - [ ] Take screenshot for documentation

- [ ] **Task 3: Test Service Logs Access** (AC: 4)
  - [ ] Click on "manim-api" service
  - [ ] View logs (last 100 lines)
  - [ ] Verify logs show recent requests
  - [ ] Test log filtering (error level, time range)
  - [ ] Document log access path

- [ ] **Task 4: Test Service Restart** (AC: 5)
  - [ ] Select "revideo-api" service
  - [ ] Click "Restart" button
  - [ ] Monitor restart process
  - [ ] Verify service comes back online
  - [ ] Verify other services unaffected (check manim-api still running)
  - [ ] Document restart procedure

- [ ] **Task 5: Test Resource Monitoring** (AC: 6)
  - [ ] Navigate to Monitoring dashboard
  - [ ] View CPU usage per service
  - [ ] View RAM usage per service
  - [ ] View disk usage
  - [ ] Check if Prometheus/Grafana integrated
  - [ ] Document monitoring capabilities

- [ ] **Task 6: Document Deployment Workflow** (AC: 7)
  - [ ] Find deployment/update UI in Coolify
  - [ ] Document steps to deploy new Docker image:
    1. Build new image locally
    2. Push to registry (or use Coolify build)
    3. Update service configuration
    4. Deploy new version
    5. Rollback if needed
  - [ ] Test deployment with dummy service update
  - [ ] Create `docs/deployment-guide.md`

- [ ] **Task 7: Test Environment Variables Management** (AC: 8)
  - [ ] Navigate to service configuration
  - [ ] View environment variables (should be masked)
  - [ ] Test adding new env var
  - [ ] Restart service, verify env var loaded
  - [ ] Remove test env var
  - [ ] Document security: verify vars not exposed in logs

- [ ] **Task 8: Test Backup/Restore** (AC: 9)
  - [ ] Find backup feature in Coolify
  - [ ] Create backup of "manim-api" service
  - [ ] Verify backup file created
  - [ ] Document backup location
  - [ ] Test restore (optional - risk of disruption)
  - [ ] Document backup/restore procedure

- [ ] **Task 9: Configure Team Access** (AC: 10)
  - [ ] Navigate to Users/Team page
  - [ ] Add test user with "Developer" role
  - [ ] Verify limited permissions (no delete access)
  - [ ] Add user with "Admin" role
  - [ ] Document role permission matrix
  - [ ] Remove test users

- [ ] **Task 10: Update Documentation** (All ACs)
  - [ ] Create `docs/coolify-management-guide.md`
  - [ ] Document all procedures
  - [ ] Add screenshots
  - [ ] Update infrastructure reference
  - [ ] Commit changes

---

## Dev Notes

**Purpose:** Coolify is the container orchestration platform managing all VPS services. Understanding its deployment and management workflows is critical for operations.

**Risk:** MEDIUM - Doesn't block development, but needed for deployment management

**Dependencies:** Story 0.1 ✅

---

### Architecture Context

[Source: docs/infrastructure-reference.md, Story 0.1]

**Service:** Coolify Dashboard
**Port:** 8000
**Technology:** Coolify (open-source PaaS)
**Status:** ✅ Validated (HTTP 302)

**Managed Services:**
- All VPS containers (19 total)
- Supabase stack
- Custom AI/ML services
- Monitoring stack

---

### Testing

**Manual Testing Only:** This story is primarily UI/UX validation

**Checklist:**
- [ ] Can access dashboard
- [ ] Can view all services
- [ ] Can restart services
- [ ] Can deploy updates
- [ ] Can manage env vars

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story draft | Bob (SM Agent) |

---

**Story Status:** Draft
**Risk Level:** MEDIUM
**Estimated Effort:** 2-3 hours
**Dependencies:** Story 0.1 ✅
**Blocks:** None (operational task)
