# Story 12.1: Ethics Roleplay - Branching Scenarios

**Epic:** 12 - Ethics & Interview Preparation
**Story Number:** 12.1
**Status:** COMPLETE
**Created:** December 23, 2025
**Sprint:** Sprint 12 (Epic 12)
**Estimated Effort:** Large (L)
**Risk Level:** HIGH

---

## Story

**As a** UPSC aspirant,
**I want** to practice ethical dilemmas with branching choices,
**so that** I can develop ethical reasoning skills for GS4 and interview.

---

## Acceptance Criteria

1. Scenario types: governance, social, professional, environmental dilemmas
2. Branching logic: each choice leads to different outcome/path
3. Minimum 3 levels deep per scenario
4. Ethical frameworks applied:
   - Utilitarian (greatest good)
   - Deontological (duty-based)
   - Virtue ethics (character)
   - Justice/fairness
5. Score calculation: based on ethical reasoning, not just "right answer"
6. Feedback: explain why each choice is ethical/unethical
7. Video feedback: generate short Revideo explaining best path
8. Progress tracking: user's ethical reasoning score over time
9. Admin interface: create/edit scenarios
10. Content library: 50+ scenarios at launch

---

## Dependencies

**Blocking:** Stories 0.6 (Revideo)
**Blocks:** Story 12.2

---

## Definition of Done

- [ ] All AC met
- [ ] Scenarios engaging
- [ ] Ethical frameworks applied
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |

---

**Story Status:** COMPLETE

---

## Implementation Summary

**Completed:** December 28, 2025

### Files Created
- `packages/supabase/migrations/060_ethics_roleplay.sql` - Database schema with scenarios, nodes, choices, sessions, progress
- `apps/web/src/app/api/ethics-roleplay/route.ts` - API with branching logic, framework analysis, admin actions
- `apps/web/src/app/(dashboard)/ethics-roleplay/page.tsx` - Interactive roleplay UI with decision trees

### Key Features
- 8 scenario types with visual icons
- 4 ethical frameworks with scoring
- Minimum 3-level depth enforcement
- Real-time feedback on choices
- Video feedback via Revideo
- Progress tracking dashboard
- Admin scenario creation tools
**Risk Level:** HIGH
**Estimated Effort:** Large (L)
