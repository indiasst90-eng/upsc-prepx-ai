# Story 3.4: Revideo Video Assembly - Final Composition

**Epic:** 3 - Video Generation Pipeline
**Story Number:** 3.4
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 4
**Estimated Effort:** Large (L)
**Risk Level:** HIGH

---

## Story

**As a** video producer,
**I want** Revideo to assemble script, TTS audio, Manim scenes, and transitions into final daily CA video,
**so that** the complete video is rendered and ready for publishing by 6 AM IST.

---

## Acceptance Criteria

1. Edge Function: assemble_ca_video_pipe.ts triggered after Manim scenes complete
2. TTS audio generated: A4F TTS API with default voice, script → audio MP3
3. Audio segments timed: map each script segment to audio timestamp
4. Revideo composition: DailyCATemplate React component
5. Video structure: title card (5s) → intro → segments → outro (5s)
6. Transitions: smooth fade between segments, animated topic headers
7. Captions: auto-generated SRT from script, burned into video
8. VPS Video Orchestrator renders: POST http://89.117.60.144:8103/render
9. Final video uploaded: videos/daily-ca/{YYYY-MM-DD}.mp4, CDN URL generated
10. Render time: <5 minutes (P95), status = completed

---

## Dependencies

**Blocking:** Stories 3.3, 0.6 (Revideo), 0.8 (Video Orchestrator)
**Blocks:** Story 3.5

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
