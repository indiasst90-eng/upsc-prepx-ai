# Story 8.1: PYQ System - PDF Upload Admin Interface

**Epic:** 8 - Practice & Evaluation - PYQs & Question Bank
**Story Number:** 8.1
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 9 (Epic 8)
**Estimated Effort:** Medium (M)
**Risk Level:** LOW

---

## Story

**As an** administrator,
**I want** an interface to upload PYQ PDFs (previous year question papers),
**so that** the system can extract and create video explanations for all questions.

---

## Acceptance Criteria

1. Admin UI: /admin/pyqs with drag-drop PDF upload interface
2. Upload metadata: exam year, paper type (Prelims/Mains GS1-4/Essay), source (UPSC official)
3. File validation: accepts only PDF files, max 50MB per file
4. Supabase Storage: uploads to `pyq-pdfs/{year}/{paper_type}/` bucket
5. Database: `pyq_papers` table with paper_id, year, paper_type, file_url, uploaded_at, status (pending/processing/completed)
6. Processing trigger: upload triggers Edge Function `process_pyq_pipe.ts` to start extraction
7. Progress indicator: shows extraction progress (0-100%) on admin dashboard
8. Bulk upload: supports uploading multiple PDFs at once (max 10 files)
9. File preview: admin can preview uploaded PDF before confirming
10. Access control: only users with admin role can access /admin/pyqs

---

## Dependencies

**Blocking:** Stories 1.2, 1.3 (auth, database)
**Blocks:** Story 8.2

---

## Definition of Done

- [ ] All AC met
- [ ] Upload working correctly
- [ ] Validation working
- [ ] Storage integrated
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
