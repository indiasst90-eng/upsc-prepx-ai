# Story 12.2: Ethics Simulator - Multi-Stage Advanced

**Epic:** 12 - Ethics & Interview Preparation
**Story Number:** 12.2
**Status:** COMPLETE
**Created:** December 23, 2025
**Sprint:** Sprint 12 (Epic 12)
**Estimated Effort:** Large (L)
**Risk Level:** HIGH

---

## Story

**As a** UPSC aspirant,
**I want** to experience multi-stage ethical simulations with personality analysis,
**so that** I can prepare for complex GS4 case studies and interview scenarios.

---

## Acceptance Criteria

1. Multi-stage: present complex scenario, user makes decisions, face consequences, adjust approach
2. Personality analysis: track user's ethical tendencies (utilitarian vs deontological vs virtue)
3. Scoring dimensions:
   - Decision quality
   - Reasoning depth
   - Stakeholder consideration
   - Practical implementation
4. Report card: comprehensive analysis of user's ethical reasoning profile
5. Improvement suggestions: recommend resources based on weak areas
6. Interview prep: generate likely interview questions based on simulation results
7. Peer comparison: anonymous comparison with top scorers
8. Difficulty levels: easy (student role), medium (bureaucrat), hard (minister)
9. Video summary: generate Revideo explaining user's ethical profile
10. Retry options: same scenario with different context

---

## Dependencies

**Blocking:** Story 12.1
**Blocks:** Story 12.3

---

## Definition of Done

- [ ] All AC met
- [ ] Multi-stage logic works
- [ ] Personality analysis accurate
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |

---

**Story Status:** COMPLETE

---

## Implementation Summary

**Completed:** December 28, 2025

### Files Created
- `packages/supabase/migrations/061_ethics_simulator.sql` - Database schema with scenarios, stages, sessions, profiles, report cards
- `apps/web/src/app/api/ethics-simulator/route.ts` - API with multi-stage flow, AI evaluation, personality analysis
- `apps/web/src/app/(dashboard)/ethics-simulator/page.tsx` - Multi-stage simulation UI with report card

### Key Features
- 3 difficulty levels (Student/Bureaucrat/Minister)
- 5 ethical tendencies tracked
- 4 scoring dimensions with AI evaluation
- Comprehensive report card generation
- Interview question generation
- Peer comparison with percentiles
- Video profile summary
- Retry with different context
**Risk Level:** HIGH
**Estimated Effort:** Large (L)
