# Story 3.3: Manim Scene Generation - Visual Assets

**Epic:** 3 - Video Generation Pipeline
**Story Number:** 3.3
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 4
**Estimated Effort:** Large (L)
**Risk Level:** HIGH

---

## Story

**As a** video producer,
**I want** Manim to automatically generate animated diagrams, maps, and timelines for current affairs topics,
**so that** videos are visually engaging and aid comprehension of complex topics.

---

## Acceptance Criteria

1. Manim Scene Analyzer: LLM identifies visualizable elements in script
2. Scene specifications generated: JSON array with scene type, data, styling (max 8 scenes)
3. Scene types: timeline, map, bar chart, flowchart, split screen comparison
4. VPS Manim Renderer called: POST http://89.117.60.144:5555/render
5. Each scene rendered as MP4 clip (1080p, 30fps, 5-15 seconds)
6. Scene caching: check manim_scene_cache table, reuse if exists
7. Render parallelization: up to 4 scenes simultaneously
8. Clips uploaded to Supabase Storage: videos/manim-scenes/{video_id}/
9. Render time: <2 minutes for all scenes (P95)
10. Fallback: if render fails, use static images or proceed without visual

---

## Dependencies

**Blocking:** Stories 3.2, 0.5 (Manim Service)
**Blocks:** Story 3.4

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
