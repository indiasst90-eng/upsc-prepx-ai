# Story 7.7: Essay Trainer - Structure Visualization with Manim

**Epic:** 7 - Practice & Evaluation - Answer Writing & Essays
**Story Number:** 7.7
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 8 (Epic 7)
**Estimated Effort:** Large (L)
**Risk Level:** MEDIUM

---

## Story

**As a** UPSC aspirant,
**I want** a visual diagram showing my essay's structure and flow,
**so that** I can understand structural weaknesses and improve organization.

---

## Acceptance Criteria

1. Structure extraction: AI analyzes essay paragraphs and creates hierarchical structure map
2. Paragraph classification: identifies intro, body paragraphs, conclusion, supporting points, examples
3. Flow analysis: detects logical transitions between paragraphs, flags abrupt jumps
4. Manim scene: generates animated flowchart showing essay structure with color-coded sections
5. Visual elements: boxes for main points, arrows for transitions, highlights for weak links
6. Ideal structure overlay: shows recommended structure alongside user's actual structure
7. Gap detection: highlights missing elements (e.g., "Conclusion lacks forward-looking statement")
8. Video integration: structure visualization included in feedback video
9. Interactive mode: web-based interactive SVG version allows clicking on sections to jump to text
10. Database: stores structure_json in `essay_evaluations` table for future analysis

---

## Dependencies

**Blocking:** Stories 7.6, 0.5 (essay evaluation, Manim service)
**Blocks:** Story 7.8

---

## Definition of Done

- [ ] All AC met
- [ ] Structure extracted correctly
- [ ] Manim diagram generated
- [ ] Visualization helpful
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
