# Story 6.5: Revision Bundle - Smart Flashcard Generation

**Epic:** 6 - Progress Tracking & Personalization
**Story Number:** 6.5
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 7 (Epic 6)
**Estimated Effort:** Medium (M)
**Risk Level:** LOW

---

## Story

**As a** UPSC aspirant,
**I want** each weak topic to have 5 automatically generated flashcards,
**so that** I can use active recall to strengthen my memory of key facts.

---

## Acceptance Criteria

1. Flashcard generation: for each revision target, generate 5 flashcards with question/answer pairs
2. AI generation: Edge Function calls A4F LLM with prompt "Create 5 flashcard Q&A pairs for {topic} focusing on facts, definitions, dates, and key concepts"
3. Flashcard format: JSON array with {question, answer, difficulty, tags[]}
4. Spaced repetition: implements SM-2 algorithm for optimal review scheduling
5. Database: `flashcards` table with user_id, topic_id, question, answer, next_review_date, ease_factor
6. UI: flashcard interface with flip animation, "Easy/Medium/Hard" buttons updating next review date
7. Progress tracking: marks flashcard set as completed when user reviews all 5 cards
8. Difficulty adjustment: if user marks as "Hard", reduces ease_factor and schedules sooner review
9. Daily limit: users can review max 50 flashcards per day (to avoid cognitive overload)
10. Export: users can export flashcard set as Anki deck (CSV format)

---

## Dependencies

**Blocking:** Stories 6.3, 1.3 (weak topics identified, database schema)
**Blocks:** Story 6.6

---

## Definition of Done

- [ ] All AC met
- [ ] Flashcards generated correctly
- [ ] Spaced repetition working
- [ ] UI functional
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
