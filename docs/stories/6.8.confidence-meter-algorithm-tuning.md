# Story 6.8: Confidence Meter - Algorithm Tuning & Recalculation

**Epic:** 6 - Progress Tracking & Personalization
**Story Number:** 6.8
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 7 (Epic 6)
**Estimated Effort:** Medium (M)
**Risk Level:** MEDIUM

---

## Story

**As a** platform administrator,
**I want** the confidence scoring algorithm to be tunable and recalculatable,
**so that** we can improve accuracy based on user feedback and data analysis.

---

## Acceptance Criteria

1. Configurable weights: admin can adjust weight percentages for quiz (default 40%), time (20%), video completion (20%), answer grades (20%)
2. Decay factor: confidence score decays by 5% per month of inactivity on a topic
3. Recalculation: admin dashboard has "Recalculate All Confidence Scores" button (runs background job)
4. Edge Function: `recalculate_confidence_pipe.ts` processes all users in batches of 100
5. Algorithm versioning: tracks algorithm version (v1, v2, etc.) in database for A/B testing
6. Performance metrics: measures algorithm accuracy by comparing predicted confidence vs actual exam performance
7. Bias detection: ensures algorithm doesn't systematically favor certain subjects or learning styles
8. Database migration: supports schema changes when algorithm weights are updated
9. Rollback: admin can revert to previous algorithm version if new version performs worse
10. Documentation: technical doc explaining confidence calculation formula and tuning guidelines

---

## Dependencies

**Blocking:** Stories 6.7, 1.3 (confidence UI, database schema)
**Blocks:** None

---

## Definition of Done

- [ ] All AC met
- [ ] Algorithm tunable
- [ ] Recalculation working
- [ ] Versioning implemented
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
