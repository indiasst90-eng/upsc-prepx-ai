# Story 7.6: Essay Trainer - AI Evaluation with Advanced Rubric

**Epic:** 7 - Practice & Evaluation - Answer Writing & Essays
**Story Number:** 7.6
**Status:** Draft
**Created:** December 23, 2025
**Sprint:** Sprint 8 (Epic 7)
**Estimated Effort:** Large (L)
**Risk Level:** HIGH

---

## Story

**As a** UPSC aspirant,
**I want** my essays to be evaluated with UPSC-standard rubrics,
**so that** I receive authentic feedback matching actual exam evaluation criteria.

---

## Acceptance Criteria

1. Evaluation rubric: Relevance (20%), Depth of Analysis (25%), Structure & Flow (20%), Language & Style (15%), Examples & Citations (10%), Creativity & Originality (10%)
2. Edge Function: `evaluate_essay_pipe.ts` processes essay submission
3. Relevance check: verifies essay addresses the topic without deviation
4. Depth analysis: assesses multi-dimensional thinking, pros-cons-solutions approach, nuance
5. Structure analysis: checks intro-body-conclusion, paragraph transitions, coherence
6. Language scoring: evaluates grammar, vocabulary richness, sentence variety, readability
7. Examples detection: identifies quotes, case studies, data, historical references, committee reports
8. Originality check: flags generic/template content, rewards unique perspectives
9. AI prompt: "Evaluate this 1000-word UPSC Essay on topic '{topic}' using official UPSC rubrics. Provide detailed section-wise feedback."
10. Database: `essay_evaluations` table with submission_id, relevance_score, depth_score, structure_score, language_score, examples_score, originality_score, total_score, feedback_json

---

## Dependencies

**Blocking:** Stories 7.5, 0.3, 1.7 (essay submission, A4F API, RAG search)
**Blocks:** Story 7.7

---

## Definition of Done

- [ ] All AC met
- [ ] Rubric evaluation accurate
- [ ] All criteria scored
- [ ] Feedback detailed
- [ ] Tests passing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-23 | 1.0 | Initial story creation | Bob (SM Agent) |
